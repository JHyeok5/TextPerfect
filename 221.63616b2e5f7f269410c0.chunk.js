"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[221],{33221:(e,t,a)=>{a.r(t),a.d(t,{default:()=>d});var n=a(96540),r=a(61409),s=a(28448),l=a(78280),c=a(56193),m=a(39957),o=(a(1588),a(6301)),i=a(80113);function d(){const{text:e,setText:t,purpose:a,setPurpose:d,options:g,setOptions:u}=(0,o.b)(),{isAuthenticated:p,canUseCharacters:x,addUsage:E,getRemainingCharacters:f,getUsagePercentage:b,getMaxTextLength:h}=(0,i.b)(),[N,y]=(0,n.useState)(!1),[v,w]=(0,n.useState)(null),[R,C]=(0,n.useState)(null),[S,k]=(0,n.useState)(!1),z=e=>{"function"==typeof t&&t(e)},O=()=>{if(!e.trim())return{canRun:!1,reason:"분석할 텍스트를 입력해주세요."};if(e.length<10)return{canRun:!1,reason:"더 긴 텍스트를 입력해주세요. (최소 10자)"};const t=h();if(e.length>t)return{canRun:!1,reason:"텍스트가 너무 깁니다. (최대 ".concat(t.toLocaleString(),"자)")};if(!p)return e.length>500?{canRun:!1,reason:"로그인하면 더 긴 텍스트를 최적화할 수 있습니다."}:{canRun:!0,reason:""};if(!x(e.length)){const e=f();return{canRun:!1,reason:"일일 사용량이 부족합니다. (남은 사용량: ".concat(e,"자)")}}return{canRun:!0,reason:""}},P=O(),T=N||!P.canRun;return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},n.createElement("span",{className:"text-blue-600 text-lg"},"✍️")),n.createElement("div",null,n.createElement("h1",{className:"text-xl font-bold text-gray-800"},"텍스트 에디터"),n.createElement("p",{className:"text-sm text-gray-600 hidden md:block"},"왼쪽 설정을 조정하고 텍스트를 입력하세요"),n.createElement("p",{className:"text-sm text-gray-600 md:hidden"},"텍스트를 입력하고 아래 설정을 조정하세요"))),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{onClick:()=>k(!S),className:"md:hidden px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors flex items-center gap-2"},n.createElement("span",null,"⚙️"),n.createElement("span",null,"설정"),n.createElement("span",{className:"text-gray-400"},S?"▲":"▼")),n.createElement(l.a,{onClick:async()=>{const{canRun:t,reason:n}=O();if(t){y(!0),w(null),C(null);try{console.log("Starting optimization with:",{textLength:e.length,purpose:a||"general",options:g||{},isAuthenticated:p,remainingChars:f()});const t=await(0,m.a)("OPTIMIZE",{method:"POST",body:JSON.stringify({text:e,purpose:a||"general",options:g||{formality:50,conciseness:50,terminology:"basic"}})});if(console.log("Optimization result:",t),!t||!t.optimized_text)throw new Error("최적화 결과를 받을 수 없습니다.");C(t),p&&E(e.length),t.optimized_text&&t.optimized_text!==e?(z(t.optimized_text),r.a.success("텍스트 최적화가 완료되었습니다!")):r.a.info("텍스트가 이미 최적화되어 있습니다.")}catch(e){console.error("Optimization error:",e);const t=e.message||"텍스트 최적화 중 오류가 발생했습니다.";w(t),r.a.error(t)}finally{y(!1)}}else r.a.error(n)},variant:"primary",disabled:T,className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg ".concat(T?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white hover:shadow-xl"),title:P.canRun?"":P.reason},N?n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.e,null),n.createElement("span",null,"최적화 중...")):n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",null,"🚀"),n.createElement("span",null,"최적화 실행"))))),n.createElement("div",{className:"space-y-6"},S&&n.createElement("div",{className:"md:hidden border-b pb-6 mb-6"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},n.createElement(c.a,{purpose:a||"general",onPurposeChange:e=>{"function"==typeof d&&d(e)},options:g||{formality:50,conciseness:50,terminology:"basic"},onOptionsChange:e=>{"function"==typeof u&&u(e)}}))),!P.canRun&&n.createElement("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-orange-500"},"⚠️"),n.createElement("span",{className:"text-orange-700 text-sm font-medium"},"제한 안내")),n.createElement("p",{className:"text-orange-600 text-sm mt-1"},P.reason),!p&&n.createElement("p",{className:"text-orange-600 text-xs mt-2"},"💡 로그인하면 더 많은 기능을 사용할 수 있습니다.")),n.createElement("div",{className:"min-h-96"},n.createElement(s.c,{value:e||"",onChange:z})),v&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-red-500"},"❌"),n.createElement("span",{className:"text-red-700 text-sm font-medium"},"오류 발생")),n.createElement("p",{className:"text-red-600 text-sm mt-1"},v)),R&&n.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2 mb-3"},n.createElement("span",{className:"text-green-500"},"✅"),n.createElement("span",{className:"text-green-700 text-sm font-medium"},"최적화 완료")),n.createElement(s.a,{result:R}))))}}}]);