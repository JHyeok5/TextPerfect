"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[345],{68345:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a(96540),r=a(11080),s=a(5105),c=a(22229),n=a(96855),m=a(57260),o=a(80113),i=a(94847),d=a(77831),E=a(61409);const u=()=>{var e;const[t]=(0,r.h)(),{user:a,isAuthenticated:u,userType:p}=(0,o.b)(),{loading:x,subscriptionData:f,startCheckout:N,openCustomerPortal:y,isSubscribed:b}=(0,i.a)(),[g,h]=(0,l.useState)(!0);if((0,l.useEffect)(()=>{const e=t.get("canceled"),a=t.get("success");e&&E.b.warning("결제가 취소되었습니다."),a&&E.b.success("결제가 완료되었습니다! 프리미엄 기능을 이용해보세요."),h(!1)},[t]),g)return l.createElement(s.a,null,l.createElement("div",{className:"flex justify-center items-center min-h-[400px]"},l.createElement(m.a,null)));const v=async e=>{u?await N(e):E.b.error("결제를 위해 로그인이 필요합니다.")},w=e=>new Intl.NumberFormat("ko-KR").format(e);return l.createElement(s.a,null,l.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},l.createElement("div",{className:"text-center mb-12"},l.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},"요금제 선택"),l.createElement("p",{className:"text-xl text-gray-600"},"더 강력한 글쓰기 도구를 경험해보세요"),b&&f&&l.createElement("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200"},l.createElement("p",{className:"text-green-800"},"🎉 현재 ",l.createElement("strong",null,"프리미엄 플랜"),"을 이용중입니다!",(null===(e=f.subscription)||void 0===e?void 0:e.currentPeriodEnd)&&l.createElement("span",{className:"ml-2"},"(다음 결제일: ",new Date(f.subscription.currentPeriodEnd).toLocaleDateString("ko-KR"),")")),l.createElement(n.a,{variant:"outline",size:"sm",onClick:y,disabled:x,className:"mt-2"},"구독 관리"))),l.createElement("div",{className:"grid lg:grid-cols-3 gap-8 mb-12"},l.createElement(c.a,{className:"relative"},l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},"무료 플랜"),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-6"},"₩0",l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/월")),l.createElement("ul",{className:"space-y-3 mb-8"},l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"일일 1,000자"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"월 10개 문서"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"기본 분석"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"기본 템플릿 3개")),l.createElement(n.a,{variant:"outline",className:"w-full",disabled:!u||"FREE"===p},u?"FREE"===p?"현재 플랜":"무료로 시작":"로그인 후 이용"))),l.createElement(c.a,{className:"relative border-2 border-blue-500 transform scale-105"},l.createElement("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2"},l.createElement("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium"},"인기")),l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},d.a.PREMIUM_MONTHLY.name),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-6"},"₩",w(d.a.PREMIUM_MONTHLY.price),l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/월")),l.createElement("ul",{className:"space-y-3 mb-8"},d.a.PREMIUM_MONTHLY.features.map((e,t)=>l.createElement("li",{key:t,className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),e))),l.createElement(n.a,{className:"w-full",onClick:()=>v("PREMIUM_MONTHLY"),disabled:x||b},x?"처리중...":b?"구독중":"월간 구독 시작"))),l.createElement(c.a,{className:"relative"},l.createElement("div",{className:"absolute -top-4 right-4"},l.createElement("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium"},d.a.PREMIUM_YEARLY.savings)),l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},d.a.PREMIUM_YEARLY.name),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-2"},"₩",w(d.a.PREMIUM_YEARLY.price),l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/년")),l.createElement("div",{className:"text-sm text-gray-500 mb-6"},"월 ₩",w(Math.floor(d.a.PREMIUM_YEARLY.price/12))," 상당"),l.createElement("ul",{className:"space-y-3 mb-8"},d.a.PREMIUM_YEARLY.features.map((e,t)=>l.createElement("li",{key:t,className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),e))),l.createElement(n.a,{variant:"outline",className:"w-full border-green-500 text-green-600 hover:bg-green-50",onClick:()=>v("PREMIUM_YEARLY"),disabled:x||b},x?"처리중...":b?"구독중":"연간 구독 시작")))),l.createElement("div",{className:"bg-gray-50 rounded-lg p-8"},l.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center"},"상세 기능 비교"),l.createElement("div",{className:"overflow-x-auto"},l.createElement("table",{className:"w-full"},l.createElement("thead",null,l.createElement("tr",{className:"border-b border-gray-200"},l.createElement("th",{className:"text-left py-4 px-6 font-semibold text-gray-900"},"기능"),l.createElement("th",{className:"text-center py-4 px-6 font-semibold text-gray-900"},"무료"),l.createElement("th",{className:"text-center py-4 px-6 font-semibold text-gray-900"},"프리미엄"))),l.createElement("tbody",{className:"divide-y divide-gray-200"},l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"일일 사용량"),l.createElement("td",{className:"text-center py-4 px-6"},"1,000자"),l.createElement("td",{className:"text-center py-4 px-6"},"10,000자")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"월 문서 수"),l.createElement("td",{className:"text-center py-4 px-6"},"10개"),l.createElement("td",{className:"text-center py-4 px-6"},"100개")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"AI 분석 품질"),l.createElement("td",{className:"text-center py-4 px-6"},"기본"),l.createElement("td",{className:"text-center py-4 px-6"},"고급 (Claude-3-Sonnet)")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"템플릿"),l.createElement("td",{className:"text-center py-4 px-6"},"3개"),l.createElement("td",{className:"text-center py-4 px-6"},"전체 (6개+)")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"AI 코치 과정"),l.createElement("td",{className:"text-center py-4 px-6"},"기본 1개"),l.createElement("td",{className:"text-center py-4 px-6"},"고급 3개 + 개인 맞춤")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"고객 지원"),l.createElement("td",{className:"text-center py-4 px-6"},"일반"),l.createElement("td",{className:"text-center py-4 px-6"},"우선 지원")))))),l.createElement("div",{className:"mt-12"},l.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center"},"자주 묻는 질문"),l.createElement("div",{className:"grid md:grid-cols-2 gap-6"},l.createElement(c.a,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"언제든 취소할 수 있나요?"),l.createElement("p",{className:"text-gray-600"},"네, 언제든지 구독을 취소할 수 있습니다. 취소 후에도 현재 결제 기간이 끝날 때까지는 프리미엄 기능을 계속 이용하실 수 있습니다.")),l.createElement(c.a,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"결제 수단은 무엇을 지원하나요?"),l.createElement("p",{className:"text-gray-600"},"신용카드, 체크카드를 지원합니다. 모든 결제는 Stripe를 통해 안전하게 처리됩니다.")),l.createElement(c.a,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"무료 체험이 있나요?"),l.createElement("p",{className:"text-gray-600"},"무료 플랜으로 먼저 서비스를 체험해보실 수 있습니다. 별도의 무료 체험 기간은 제공하지 않습니다.")),l.createElement(c.a,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"환불 정책은 어떻게 되나요?"),l.createElement("p",{className:"text-gray-600"},"구독 후 7일 이내에 요청하시면 전액 환불해드립니다. 자세한 내용은 고객센터로 문의해주세요."))))))}},77831:(e,t,a)=>{a.d(t,{a:()=>n,b:()=>l,c:()=>r,d:()=>s,e:()=>c}),a(22037);const l=async(e,t,a)=>{try{const l=await fetch("/.netlify/functions/stripe-create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planType:e,userId:t,userEmail:a})}),r=await l.json();if(!r.success)throw new Error(r.error||"Failed to create checkout session");return r.data}catch(e){throw console.error("Create checkout session error:",e),e}},r=async e=>{try{const t=await fetch("/.netlify/functions/stripe-customer-portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e})}),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to create customer portal session");return a.data}catch(e){throw console.error("Create customer portal session error:",e),e}},s=async e=>{try{const t=await fetch("/.netlify/functions/stripe-get-subscription?userEmail=".concat(encodeURIComponent(e))),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to get subscription status");return a.data}catch(e){throw console.error("Get subscription status error:",e),e}},c=async e=>{try{const t=await fetch("/.netlify/functions/stripe-verify-session?session_id=".concat(e)),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to verify checkout session");return a.data}catch(e){throw console.error("Verify checkout session error:",e),e}},n={PREMIUM_MONTHLY:{id:"PREMIUM_MONTHLY",name:"프리미엄 월간",price:9900,interval:"month",description:"월 9,900원으로 모든 프리미엄 기능 이용",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원"]},PREMIUM_YEARLY:{id:"PREMIUM_YEARLY",name:"프리미엄 연간",price:99e3,interval:"year",description:"연 99,000원 (2개월 무료)",savings:"19,800원 절약",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원","2개월 무료"]}}},94847:(e,t,a)=>{a.d(t,{a:()=>n});var l=a(96540),r=a(80113),s=a(77831),c=a(61409);const n=()=>{const{user:e,isAuthenticated:t}=(0,r.b)(),[a,n]=(0,l.useState)(!1),[m,o]=(0,l.useState)(null),i=async()=>{if(t&&null!=e&&e.email)try{n(!0);const t=await(0,s.d)(e.email);o(t)}catch(e){console.error("Failed to fetch subscription status:",e),c.b.error("구독 상태를 조회하는데 실패했습니다.")}finally{n(!1)}};return(0,l.useEffect)(()=>{t&&null!=e&&e.email&&i()},[t,null==e?void 0:e.email]),{loading:a,subscriptionData:m,startCheckout:async a=>{if(t)if(null!=e&&e.id&&null!=e&&e.email)try{n(!0);const{url:t}=await(0,s.b)(a,e.id,e.email);window.location.href=t}catch(e){console.error("Checkout failed:",e),c.b.error("결제 페이지로 이동하는데 실패했습니다."),n(!1)}else c.b.error("사용자 정보가 없습니다.");else c.b.error("로그인이 필요합니다.")},openCustomerPortal:async()=>{if(t&&null!=e&&e.email)try{n(!0);const{url:t}=await(0,s.c)(e.email);window.location.href=t}catch(e){console.error("Customer portal failed:",e),c.b.error("구독 관리 페이지로 이동하는데 실패했습니다."),n(!1)}else c.b.error("로그인이 필요합니다.")},fetchSubscriptionStatus:i,isSubscribed:"PREMIUM"===(null==m?void 0:m.plan),subscriptionStatus:null==m?void 0:m.status}}}}]);