"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[865],{89865:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(54705),r=a(96540),n=a(80113),s=a(5105),m=a(78280),c=a(61409);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach(function(t){(0,l.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}const d=e=>{let{isOpen:t,onClose:a,user:l,onUpdate:n}=e;const[s,o]=(0,r.useState)({nickname:(null==l?void 0:l.nickname)||"",email:(null==l?void 0:l.email)||""}),[d,u]=(0,r.useState)(!1);return r.createElement(m.f,{open:t,onClose:a,title:"프로필 편집"},r.createElement("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{await new Promise(e=>setTimeout(e,1e3)),c.b.success("프로필이 성공적으로 업데이트되었습니다."),n(s),a()}catch(e){c.b.error("프로필 업데이트에 실패했습니다.")}finally{u(!1)}},className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"닉네임"),r.createElement("input",{type:"text",value:s.nickname,onChange:e=>o(i(i({},s),{},{nickname:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"이메일"),r.createElement("input",{type:"email",value:s.email,onChange:e=>o(i(i({},s),{},{email:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})),r.createElement("div",{className:"flex gap-2 pt-4"},r.createElement(m.a,{type:"submit",variant:"primary",disabled:d,className:"flex-1"},d?r.createElement(m.e,{size:"sm"}):"저장"),r.createElement(m.a,{type:"button",variant:"secondary",onClick:a,disabled:d,className:"flex-1"},"취소"))))},u=e=>{let{isOpen:t,onClose:a}=e;const[l,n]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[s,o]=(0,r.useState)(!1);return r.createElement(m.f,{open:t,onClose:a,title:"비밀번호 변경"},r.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),l.newPassword===l.confirmPassword)if(l.newPassword.length<8)c.b.error("비밀번호는 8자 이상이어야 합니다.");else{o(!0);try{await new Promise(e=>setTimeout(e,1e3)),c.b.success("비밀번호가 성공적으로 변경되었습니다."),n({currentPassword:"",newPassword:"",confirmPassword:""}),a()}catch(e){c.b.error("비밀번호 변경에 실패했습니다.")}finally{o(!1)}}else c.b.error("새 비밀번호가 일치하지 않습니다.")},className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"현재 비밀번호"),r.createElement("input",{type:"password",value:l.currentPassword,onChange:e=>n(i(i({},l),{},{currentPassword:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"새 비밀번호"),r.createElement("input",{type:"password",value:l.newPassword,onChange:e=>n(i(i({},l),{},{newPassword:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:8})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"새 비밀번호 확인"),r.createElement("input",{type:"password",value:l.confirmPassword,onChange:e=>n(i(i({},l),{},{confirmPassword:e.target.value})),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:8})),r.createElement("div",{className:"flex gap-2 pt-4"},r.createElement(m.a,{type:"submit",variant:"primary",disabled:s,className:"flex-1"},s?r.createElement(m.e,{size:"sm"}):"변경"),r.createElement(m.a,{type:"button",variant:"secondary",onClick:a,disabled:s,className:"flex-1"},"취소"))))};function b(){var e,t,a,l;const{user:c,isAuthenticated:o,loading:b}=(0,n.b)(),[p,v]=(0,r.useState)(!1),[x,g]=(0,r.useState)(!1),[E,f]=(0,r.useState)(c);if(b)return r.createElement(s.a,null,r.createElement("div",{className:"flex justify-center items-center min-h-[400px]"},r.createElement(m.e,null)));if(!o)return r.createElement(s.a,null,r.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8"},r.createElement("div",{className:"text-center py-12"},r.createElement("div",{className:"mb-6"},r.createElement("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}))),r.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"로그인이 필요합니다"),r.createElement("p",{className:"text-gray-600 mb-6"},"프로필을 보려면 먼저 로그인해주세요."),r.createElement(m.a,{variant:"primary"},"로그인하기"))));const y=E||c;return r.createElement(s.a,null,r.createElement("div",{className:"max-w-4xl mx-auto px-4 py-8"},r.createElement("div",{className:"mb-8"},r.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-2"},"프로필"),r.createElement("p",{className:"text-gray-600"},"계정 정보와 활동 현황을 확인하고 관리하세요.")),r.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},r.createElement(m.b,{className:"lg:col-span-2"},r.createElement("div",{className:"p-6"},r.createElement("div",{className:"flex items-center justify-between mb-6"},r.createElement("h3",{className:"text-xl font-semibold text-gray-900"},"기본 정보"),r.createElement(m.a,{variant:"outline",size:"sm",onClick:()=>v(!0)},"편집")),r.createElement("div",{className:"space-y-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"닉네임"),r.createElement("div",{className:"p-3 bg-gray-50 border rounded-md"},(null==y?void 0:y.nickname)||"설정되지 않음")),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"이메일"),r.createElement("div",{className:"p-3 bg-gray-50 border rounded-md"},(null==y?void 0:y.email)||"설정되지 않음")),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"가입일"),r.createElement("div",{className:"p-3 bg-gray-50 border rounded-md"},null!=y&&y.createdAt?new Date(y.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}):"정보 없음"))),r.createElement("div",{className:"mt-6 pt-6 border-t"},r.createElement("h4",{className:"text-lg font-medium text-gray-900 mb-4"},"보안"),r.createElement(m.a,{variant:"secondary",onClick:()=>g(!0)},"비밀번호 변경")))),r.createElement(m.b,null,r.createElement("div",{className:"p-6 text-center"},r.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-6"},"레벨 정보"),r.createElement("div",{className:"mb-6"},r.createElement("div",{className:"text-4xl font-bold text-blue-600 mb-2"},"Lv.",(null==y?void 0:y.level)||1),r.createElement("div",{className:"text-gray-600"},(null==y?void 0:y.nickname)||"사용자")),r.createElement("div",{className:"mb-6"},r.createElement("div",{className:"text-sm text-gray-600 mb-2"},"경험치"),r.createElement(m.g,{value:(null==y?void 0:y.exp)||0,max:1e3}),r.createElement("div",{className:"text-xs text-gray-500 mt-1"},(null==y?void 0:y.exp)||0," / 1000 XP")),r.createElement("div",{className:"text-sm text-gray-600"},r.createElement("div",null,"다음 레벨까지 ",1e3-((null==y?void 0:y.exp)||0),"XP")))),r.createElement(m.b,{className:"lg:col-span-3"},r.createElement("div",{className:"p-6"},r.createElement("h3",{className:"text-xl font-semibold text-gray-900 mb-6"},"활동 통계"),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},r.createElement("div",{className:"text-center p-4 bg-blue-50 rounded-lg"},r.createElement("div",{className:"text-3xl font-bold text-blue-600 mb-2"},(null==y||null===(e=y.stats)||void 0===e?void 0:e.optimizedDocs)||0),r.createElement("div",{className:"text-sm text-gray-600"},"최적화한 문서")),r.createElement("div",{className:"text-center p-4 bg-green-50 rounded-lg"},r.createElement("div",{className:"text-3xl font-bold text-green-600 mb-2"},(null==y||null===(t=y.stats)||void 0===t?void 0:t.improvedSentences)||0),r.createElement("div",{className:"text-sm text-gray-600"},"개선한 문장")),r.createElement("div",{className:"text-center p-4 bg-yellow-50 rounded-lg"},r.createElement("div",{className:"text-3xl font-bold text-yellow-600 mb-2"},(null==y||null===(a=y.stats)||void 0===a?void 0:a.avgImprovement)||0,"%"),r.createElement("div",{className:"text-sm text-gray-600"},"평균 개선도")),r.createElement("div",{className:"text-center p-4 bg-purple-50 rounded-lg"},r.createElement("div",{className:"text-3xl font-bold text-purple-600 mb-2"},(null==y||null===(l=y.stats)||void 0===l?void 0:l.consecutiveDays)||0),r.createElement("div",{className:"text-sm text-gray-600"},"연속 사용일")))))),r.createElement(d,{isOpen:p,onClose:()=>v(!1),user:y,onUpdate:e=>{f(i(i({},E),e))}}),r.createElement(u,{isOpen:x,onClose:()=>g(!1)})))}}}]);