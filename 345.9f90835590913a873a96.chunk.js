"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[345],{68345:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a(96540),r=a(11080),s=a(5105),c=a(78280),n=a(80113),m=a(94847),o=a(77831),i=a(61409);const d=e=>{var t;let{isOpen:a,onClose:r,subscriptionData:s,onCancel:n}=e;const[m,o]=(0,l.useState)(!1),[d,u]=(0,l.useState)(!1);return l.createElement(c.f,{open:a,onClose:r,title:"구독 취소"},l.createElement("div",{className:"space-y-4"},l.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},l.createElement("div",{className:"flex"},l.createElement("div",{className:"flex-shrink-0"},l.createElement("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))),l.createElement("div",{className:"ml-3"},l.createElement("h3",{className:"text-sm font-medium text-yellow-800"},"구독 취소 안내"),l.createElement("div",{className:"mt-2 text-sm text-yellow-700"},l.createElement("p",null,"구독을 취소하시면 프리미엄 기능을 더 이상 이용하실 수 없습니다."))))),l.createElement("div",{className:"space-y-3"},l.createElement("div",{className:"flex items-center"},l.createElement("input",{id:"cancel-period-end",type:"radio",checked:!m,onChange:()=>o(!1),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),l.createElement("label",{htmlFor:"cancel-period-end",className:"ml-3 block text-sm font-medium text-gray-700"},"현재 결제 기간 종료 시 취소",l.createElement("p",{className:"text-xs text-gray-500 mt-1"},(null==s||null===(t=s.subscription)||void 0===t?void 0:t.currentPeriodEnd)&&"".concat(new Date(s.subscription.currentPeriodEnd).toLocaleDateString("ko-KR"),"까지 계속 이용 가능")))),l.createElement("div",{className:"flex items-center"},l.createElement("input",{id:"cancel-immediately",type:"radio",checked:m,onChange:()=>o(!0),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),l.createElement("label",{htmlFor:"cancel-immediately",className:"ml-3 block text-sm font-medium text-gray-700"},"즉시 취소",l.createElement("p",{className:"text-xs text-gray-500 mt-1"},"지금 즉시 구독이 취소되며 프리미엄 기능 이용이 중단됩니다.")))),l.createElement("div",{className:"flex gap-3 pt-4"},l.createElement(c.a,{variant:"outline",onClick:r,disabled:d,className:"flex-1"},"취소"),l.createElement(c.a,{variant:"primary",onClick:async()=>{var e;if(null!=s&&null!==(e=s.subscription)&&void 0!==e&&e.id){u(!0);try{await n(s.subscription.id,m)&&r()}finally{u(!1)}}else i.b.error("구독 정보를 찾을 수 없습니다.")},disabled:d,className:"flex-1 bg-red-600 hover:bg-red-700"},d?l.createElement(c.e,{size:"sm"}):"구독 취소"))))},u=()=>{var e,t,a;const[u]=(0,r.h)(),{user:E,isAuthenticated:p,userType:x}=(0,n.b)(),{loading:b,subscriptionData:f,startCheckout:N,openCustomerPortal:y,cancelSubscriptionPlan:g,isSubscribed:v}=(0,m.a)(),[h,w]=(0,l.useState)(!0),[M,R]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{const e=u.get("canceled"),t=u.get("success");e&&i.b.warning("결제가 취소되었습니다."),t&&i.b.success("결제가 완료되었습니다! 프리미엄 기능을 이용해보세요."),w(!1)},[u]),h)return l.createElement(s.a,null,l.createElement("div",{className:"flex justify-center items-center min-h-[400px]"},l.createElement(c.e,null)));const C=async e=>{p?await N(e):i.b.error("결제를 위해 로그인이 필요합니다.")},k=e=>new Intl.NumberFormat("ko-KR").format(e);return l.createElement(s.a,null,l.createElement("div",{className:"max-w-6xl mx-auto px-4 py-8"},l.createElement("div",{className:"text-center mb-12"},l.createElement("h1",{className:"text-4xl font-bold text-gray-900 mb-4"},"요금제 선택"),l.createElement("p",{className:"text-xl text-gray-600"},"더 강력한 글쓰기 도구를 경험해보세요"),v&&f&&l.createElement("div",{className:"mt-6 p-6 bg-green-50 rounded-lg border border-green-200"},l.createElement("div",{className:"flex items-center justify-between"},l.createElement("div",{className:"text-left"},l.createElement("p",{className:"text-green-800 font-semibold"},"🎉 현재 ",l.createElement("strong",null,"프리미엄 플랜"),"을 이용중입니다!"),(null===(e=f.subscription)||void 0===e?void 0:e.currentPeriodEnd)&&l.createElement("p",{className:"text-green-700 text-sm mt-1"},"다음 결제일: ",new Date(f.subscription.currentPeriodEnd).toLocaleDateString("ko-KR")),(null===(t=f.subscription)||void 0===t?void 0:t.cancelAtPeriodEnd)&&l.createElement("p",{className:"text-orange-600 text-sm mt-1 font-medium"},"⚠️ 구독이 ",new Date(f.subscription.currentPeriodEnd).toLocaleDateString("ko-KR"),"에 종료 예정입니다.")),l.createElement("div",{className:"flex gap-2"},l.createElement(c.a,{variant:"outline",size:"sm",onClick:y,disabled:b},"구독 관리"),!(null!==(a=f.subscription)&&void 0!==a&&a.cancelAtPeriodEnd)&&l.createElement(c.a,{variant:"outline",size:"sm",onClick:()=>R(!0),disabled:b,className:"border-red-300 text-red-600 hover:bg-red-50"},"구독 취소"))))),l.createElement(d,{isOpen:M,onClose:()=>R(!1),subscriptionData:f,onCancel:g}),l.createElement("div",{className:"grid lg:grid-cols-3 gap-8 mb-12"},l.createElement(c.b,{className:"relative"},l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},"무료 플랜"),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-6"},"₩0",l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/월")),l.createElement("ul",{className:"space-y-3 mb-8"},l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"일일 1,000자"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"월 10개 문서"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"기본 분석"),l.createElement("li",{className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),"기본 템플릿 3개")),l.createElement(c.a,{variant:"outline",className:"w-full",disabled:!p||"FREE"===x},p?"FREE"===x?"현재 플랜":"무료로 시작":"로그인 후 이용"))),l.createElement(c.b,{className:"relative border-2 border-blue-500 transform scale-105"},l.createElement("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2"},l.createElement("span",{className:"bg-blue-500 text-white px-4 py-1 rounded-full text-sm font-medium"},"인기")),l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},o.a.PREMIUM_MONTHLY.name),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-6"},"₩",k(o.a.PREMIUM_MONTHLY.price),l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/월")),l.createElement("ul",{className:"space-y-3 mb-8"},o.a.PREMIUM_MONTHLY.features.map((e,t)=>l.createElement("li",{key:t,className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),e))),l.createElement(c.a,{className:"w-full",onClick:()=>C("PREMIUM_MONTHLY"),disabled:b||v},b?"처리중...":v?"구독중":"월간 구독 시작"))),l.createElement(c.b,{className:"relative"},l.createElement("div",{className:"absolute -top-4 right-4"},l.createElement("span",{className:"bg-green-500 text-white px-3 py-1 rounded-full text-xs font-medium"},o.a.PREMIUM_YEARLY.savings)),l.createElement("div",{className:"p-8"},l.createElement("h3",{className:"text-2xl font-bold text-gray-900 mb-4"},o.a.PREMIUM_YEARLY.name),l.createElement("div",{className:"text-4xl font-bold text-gray-900 mb-2"},"₩",k(o.a.PREMIUM_YEARLY.price),l.createElement("span",{className:"text-lg font-normal text-gray-500"},"/년")),l.createElement("div",{className:"text-sm text-gray-500 mb-6"},"월 ₩",k(Math.floor(o.a.PREMIUM_YEARLY.price/12))," 상당"),l.createElement("ul",{className:"space-y-3 mb-8"},o.a.PREMIUM_YEARLY.features.map((e,t)=>l.createElement("li",{key:t,className:"flex items-center"},l.createElement("svg",{className:"w-5 h-5 text-green-500 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},l.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})),e))),l.createElement(c.a,{variant:"outline",className:"w-full border-green-500 text-green-600 hover:bg-green-50",onClick:()=>C("PREMIUM_YEARLY"),disabled:b||v},b?"처리중...":v?"구독중":"연간 구독 시작")))),l.createElement("div",{className:"bg-gray-50 rounded-lg p-8"},l.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center"},"상세 기능 비교"),l.createElement("div",{className:"overflow-x-auto"},l.createElement("table",{className:"w-full"},l.createElement("thead",null,l.createElement("tr",{className:"border-b border-gray-200"},l.createElement("th",{className:"text-left py-4 px-6 font-semibold text-gray-900"},"기능"),l.createElement("th",{className:"text-center py-4 px-6 font-semibold text-gray-900"},"무료"),l.createElement("th",{className:"text-center py-4 px-6 font-semibold text-gray-900"},"프리미엄"))),l.createElement("tbody",{className:"divide-y divide-gray-200"},l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"일일 사용량"),l.createElement("td",{className:"text-center py-4 px-6"},"1,000자"),l.createElement("td",{className:"text-center py-4 px-6"},"10,000자")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"월 문서 수"),l.createElement("td",{className:"text-center py-4 px-6"},"10개"),l.createElement("td",{className:"text-center py-4 px-6"},"100개")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"AI 분석 엔진"),l.createElement("td",{className:"text-center py-4 px-6"},"기본 (Claude-3-Haiku)"),l.createElement("td",{className:"text-center py-4 px-6"},"고급 (Claude-3-Sonnet)")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"템플릿"),l.createElement("td",{className:"text-center py-4 px-6"},"3개"),l.createElement("td",{className:"text-center py-4 px-6"},"모든 템플릿")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"AI 코치"),l.createElement("td",{className:"text-center py-4 px-6"},"기본 과정"),l.createElement("td",{className:"text-center py-4 px-6"},"고급 과정")),l.createElement("tr",null,l.createElement("td",{className:"py-4 px-6"},"지원"),l.createElement("td",{className:"text-center py-4 px-6"},"커뮤니티"),l.createElement("td",{className:"text-center py-4 px-6"},"우선 지원")))))),l.createElement("div",{className:"mt-12"},l.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center"},"자주 묻는 질문"),l.createElement("div",{className:"grid md:grid-cols-2 gap-8"},l.createElement(c.b,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"언제든지 취소할 수 있나요?"),l.createElement("p",{className:"text-gray-600 text-sm"},"네, 언제든지 구독을 취소하실 수 있습니다. 취소 후에도 현재 결제 기간이 끝날 때까지는 프리미엄 기능을 계속 이용하실 수 있습니다.")),l.createElement(c.b,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"결제는 어떻게 이루어지나요?"),l.createElement("p",{className:"text-gray-600 text-sm"},"Stripe를 통해 안전하게 결제가 처리됩니다. 신용카드, 체크카드 등 다양한 결제 방법을 지원합니다.")),l.createElement(c.b,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"환불 정책은 어떻게 되나요?"),l.createElement("p",{className:"text-gray-600 text-sm"},"구독 후 7일 이내에는 전액 환불이 가능합니다. 그 이후에는 남은 기간에 대해 비례 환불해드립니다.")),l.createElement(c.b,{className:"p-6"},l.createElement("h3",{className:"font-semibold text-gray-900 mb-2"},"데이터는 안전하게 보관되나요?"),l.createElement("p",{className:"text-gray-600 text-sm"},"모든 데이터는 암호화되어 안전하게 저장됩니다. GDPR 및 개인정보보호법을 준수하여 운영됩니다."))))))}},77831:(e,t,a)=>{a.d(t,{a:()=>n,b:()=>l,c:()=>r,d:()=>s,e:()=>c}),a(22037);const l=async(e,t,a)=>{try{const l=await fetch("/.netlify/functions/stripe-create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planType:e,userId:t,userEmail:a})}),r=await l.json();if(!r.success)throw new Error(r.error||"Failed to create checkout session");return r.data}catch(e){throw console.error("Create checkout session error:",e),e}},r=async e=>{try{const t=await fetch("/.netlify/functions/stripe-customer-portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e})}),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to create customer portal session");return a.data}catch(e){throw console.error("Create customer portal session error:",e),e}},s=async e=>{try{const t=await fetch("/.netlify/functions/stripe-get-subscription?userEmail=".concat(encodeURIComponent(e))),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to get subscription status");return a.data}catch(e){throw console.error("Get subscription status error:",e),e}},c=async e=>{try{const t=await fetch("/.netlify/functions/stripe-verify-session?session_id=".concat(e)),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to verify checkout session");return a.data}catch(e){throw console.error("Verify checkout session error:",e),e}},n={PREMIUM_MONTHLY:{id:"PREMIUM_MONTHLY",name:"프리미엄 월간",price:9900,interval:"month",description:"월 9,900원으로 모든 프리미엄 기능 이용",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원"]},PREMIUM_YEARLY:{id:"PREMIUM_YEARLY",name:"프리미엄 연간",price:99e3,interval:"year",description:"연 99,000원 (2개월 무료)",savings:"19,800원 절약",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원","2개월 무료"]}}},94847:(e,t,a)=>{a.d(t,{a:()=>n});var l=a(96540),r=a(80113),s=a(77831),c=a(61409);const n=()=>{const{user:e,isAuthenticated:t}=(0,r.b)(),[a,n]=(0,l.useState)(!1),[m,o]=(0,l.useState)(null),i=async()=>{if(t&&null!=e&&e.email)try{n(!0);const t=await(0,s.d)(e.email);o(t)}catch(e){console.error("Failed to fetch subscription status:",e),c.b.error("���� ���¸� ��ȸ�ϴµ� �����߽��ϴ�.")}finally{n(!1)}};return(0,l.useEffect)(()=>{t&&null!=e&&e.email&&i()},[t,null==e?void 0:e.email]),{loading:a,subscriptionData:m,startCheckout:async a=>{if(t)if(null!=e&&e.id&&null!=e&&e.email)try{n(!0);const{url:t}=await(0,s.b)(a,e.id,e.email);window.location.href=t}catch(e){console.error("Checkout failed:",e),c.b.error("���� �������� �̵��ϴµ� �����߽��ϴ�."),n(!1)}else c.b.error("����� ������ �����ϴ�.");else c.b.error("�α����� �ʿ��մϴ�.")},openCustomerPortal:async()=>{if(t&&null!=e&&e.email)try{n(!0);const{url:t}=await(0,s.c)(e.email);window.location.href=t}catch(e){console.error("Customer portal failed:",e),c.b.error("���� ���� �������� �̵��ϴµ� �����߽��ϴ�."),n(!1)}else c.b.error("�α����� �ʿ��մϴ�.")},fetchSubscriptionStatus:i,isSubscribed:"PREMIUM"===(null==m?void 0:m.plan),subscriptionStatus:null==m?void 0:m.status}}}}]);