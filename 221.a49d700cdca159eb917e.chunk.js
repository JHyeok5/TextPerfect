"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[221],{33221:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(96540),r=a(61409),s=a(28448),l=a(78280),c=a(56193),o=a(39957),m=(a(1588),a(6301)),i=a(80113);function u(){const{text:e,setText:t,purpose:a,setPurpose:u,options:d,setOptions:p}=(0,m.b)(),{isAuthenticated:g,canUseCharacters:x,addUsage:E,getRemainingCharacters:b,getUsagePercentage:f,getMaxTextLength:y,getUserPlan:h,canCreateDocument:N,addDocument:v,getRemainingDocs:R,monthlyDocs:w,USAGE_LIMITS:S}=(0,i.b)(),[k,C]=(0,n.useState)(!1),[P,_]=(0,n.useState)(null),[M,T]=(0,n.useState)(null),[z,I]=(0,n.useState)(!1),U=e=>{"function"==typeof t&&t(e)},O=()=>{if(!e.trim())return{canRun:!1,reason:"ë¶„ì„í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”."};if(e.length<10)return{canRun:!1,reason:"ë” ê¸´ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”. (ìµœì†Œ 10ì)"};const t=y();if(e.length>t)return{canRun:!1,reason:"í…ìŠ¤íŠ¸ê°€ ë„ˆë¬´ ê¹ë‹ˆë‹¤. (ìµœëŒ€ ".concat(t.toLocaleString(),"ì)")};if(!g)return e.length>500?{canRun:!1,reason:"ë¡œê·¸ì¸í•˜ë©´ ë” ê¸´ í…ìŠ¤íŠ¸ë¥¼ ìµœì í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."}:{canRun:!0,reason:""};if(!N()){var a;const e=R(),t=h();return{canRun:!1,reason:"ì´ë²ˆ ë‹¬ ë¬¸ì„œ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. (".concat(t," í”Œëœ: ").concat((null===(a=S[t])||void 0===a?void 0:a.monthlyDocs)||0,"ê°œ/ì›”, ë‚¨ì€ ë¬¸ì„œ: ").concat(e,"ê°œ)")}}if(!x(e.length)){const e=b();return{canRun:!1,reason:"ì¼ì¼ ì‚¬ìš©ëŸ‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. (ë‚¨ì€ ì‚¬ìš©ëŸ‰: ".concat(e,"ì)")}}return{canRun:!0,reason:""}},D=O(),L=k||!D.canRun,A=(()=>{if(!g)return{type:"ë¹„íšŒì›",color:"gray",limits:"ìµœëŒ€ 500ì, ê¸°ë³¸ ë¶„ì„ë§Œ ê°€ëŠ¥"};const e=h(),t=b(),a=R();return{type:"FREE"===e?"ë¬´ë£Œ í”Œëœ":"í”„ë¦¬ë¯¸ì—„ í”Œëœ",color:"FREE"===e?"blue":"purple",limits:"ì¼ì¼ ".concat(t.toLocaleString(),"ì ë‚¨ìŒ, ì›” ").concat(a,"ê°œ ë¬¸ì„œ ë‚¨ìŒ")}})();return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},n.createElement("span",{className:"text-blue-600 text-lg"},"âœï¸")),n.createElement("div",null,n.createElement("h1",{className:"text-xl font-bold text-gray-800"},"í…ìŠ¤íŠ¸ ì—ë””í„°"),n.createElement("p",{className:"text-sm text-gray-600 hidden md:block"},"ì™¼ìª½ ì„¤ì •ì„ ì¡°ì •í•˜ê³  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"),n.createElement("p",{className:"text-sm text-gray-600 md:hidden"},"í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ê³  ì•„ë˜ ì„¤ì •ì„ ì¡°ì •í•˜ì„¸ìš”"))),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("purple"===A.color?"bg-purple-100 text-purple-700":"blue"===A.color?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700")},A.type),n.createElement("button",{onClick:()=>I(!z),className:"md:hidden px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium transition-colors flex items-center gap-2"},n.createElement("span",null,"âš™ï¸"),n.createElement("span",null,"ì„¤ì •"),n.createElement("span",{className:"text-gray-400"},z?"â–²":"â–¼")),n.createElement(l.a,{onClick:async()=>{const{canRun:t,reason:n}=O();if(t){C(!0),_(null),T(null);try{console.log("Starting optimization with:",{textLength:e.length,purpose:a||"general",options:d||{},isAuthenticated:g,remainingChars:b(),remainingDocs:R(),userPlan:h()});const t={};if(g){const e=localStorage.getItem("authToken");e&&(t.Authorization="Bearer ".concat(e))}const n=await(0,o.a)("OPTIMIZE",{method:"POST",headers:t,body:JSON.stringify({text:e,purpose:a||"general",options:d||{formality:50,conciseness:50,terminology:"basic"}})});if(console.log("Optimization result:",n),!n||!n.optimized_text)throw new Error("ìµœì í™” ê²°ê³¼ë¥¼ ë°›ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");if(T(n),g&&(E(e.length),v()),n.optimized_text&&n.optimized_text!==e){U(n.optimized_text);const e=h();let t="í…ìŠ¤íŠ¸ ìµœì í™”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!";"PREMIUM"===e?t+=" í”„ë¦¬ë¯¸ì—„ ê³ ê¸‰ ë¶„ì„ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤.":"FREE"===e&&(t+=" ë¬´ë£Œ í”Œëœ ê¸°ë³¸ ë¶„ì„ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤."),r.b.success(t)}else r.b.info("í…ìŠ¤íŠ¸ê°€ ì´ë¯¸ ìµœì í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")}catch(e){console.error("Optimization error:",e);const t=e.message||"í…ìŠ¤íŠ¸ ìµœì í™” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";_(t),r.b.error(t)}finally{C(!1)}}else r.b.error(n)},variant:"primary",disabled:L,className:"px-6 py-3 rounded-lg font-medium transition-all duration-200 shadow-lg ".concat(L?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white hover:shadow-xl"),title:D.canRun?"":D.reason},k?n.createElement("div",{className:"flex items-center gap-2"},n.createElement(l.e,null),n.createElement("span",null,"ìµœì í™” ì¤‘...")):n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",null,"ğŸš€"),n.createElement("span",null,"ìµœì í™” ì‹¤í–‰"))))),n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"p-4 rounded-lg border ".concat("purple"===A.color?"bg-purple-50 border-purple-200":"blue"===A.color?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200")},n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement("span",{className:"text-sm font-medium"},"ğŸ“Š í˜„ì¬ ìƒíƒœ")),n.createElement("p",{className:"text-sm text-gray-700"},A.limits),!g&&n.createElement("p",{className:"text-xs text-gray-600 mt-1"},"ğŸ’¡ ë¡œê·¸ì¸í•˜ë©´ ë” ë§ì€ ê¸°ëŠ¥ê³¼ ë†’ì€ í’ˆì§ˆì˜ ë¶„ì„ì„ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")),z&&n.createElement("div",{className:"md:hidden border-b pb-6 mb-6"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},n.createElement(c.a,{purpose:a||"general",onPurposeChange:e=>{"function"==typeof u&&u(e)},options:d||{formality:50,conciseness:50,terminology:"basic"},onOptionsChange:e=>{"function"==typeof p&&p(e)}}))),!D.canRun&&n.createElement("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-orange-500"},"âš ï¸"),n.createElement("span",{className:"text-orange-700 text-sm font-medium"},"ì œí•œ ì•ˆë‚´")),n.createElement("p",{className:"text-orange-600 text-sm mt-1"},D.reason),!g&&n.createElement("p",{className:"text-orange-600 text-xs mt-2"},"ğŸ’¡ ë¡œê·¸ì¸í•˜ë©´ ë” ë§ì€ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.")),n.createElement("div",{className:"min-h-96"},n.createElement(s.c,{value:e||"",onChange:U})),P&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-red-500"},"âŒ"),n.createElement("span",{className:"text-red-700 text-sm font-medium"},"ì˜¤ë¥˜ ë°œìƒ")),n.createElement("p",{className:"text-red-600 text-sm mt-1"},P)),M&&n.createElement("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2 mb-3"},n.createElement("span",{className:"text-green-500"},"âœ…"),n.createElement("span",{className:"text-green-700 text-sm font-medium"},"ìµœì í™” ì™„ë£Œ (","PREMIUM"===M.userType?"í”„ë¦¬ë¯¸ì—„ ê³ ê¸‰ ë¶„ì„":"FREE"===M.userType?"ë¬´ë£Œ í”Œëœ ê¸°ë³¸ ë¶„ì„":"ë¹„íšŒì› ê¸°ë³¸ ë¶„ì„",")")),n.createElement(s.a,{result:M}),"PREMIUM"===M.userType&&M.detailed_feedback&&n.createElement("div",{className:"mt-4 p-3 bg-purple-50 rounded-lg"},n.createElement("h4",{className:"text-sm font-medium text-purple-800 mb-2"},"ğŸ¯ ìƒì„¸ í”¼ë“œë°± (í”„ë¦¬ë¯¸ì—„ ì „ìš©)"),n.createElement("p",{className:"text-sm text-purple-700"},M.detailed_feedback),M.style_suggestions&&M.style_suggestions.length>0&&n.createElement("div",{className:"mt-3"},n.createElement("h5",{className:"text-xs font-medium text-purple-800 mb-1"},"ìŠ¤íƒ€ì¼ ê°œì„  ì œì•ˆ:"),n.createElement("ul",{className:"text-xs text-purple-600 space-y-1"},M.style_suggestions.map((e,t)=>n.createElement("li",{key:t},"â€¢ ",e))))))))}}}]);