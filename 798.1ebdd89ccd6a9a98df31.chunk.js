"use strict";(self.webpackChunktextperfect=self.webpackChunktextperfect||[]).push([[798],{3798:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(96540),s=a(11080),l=a(78280),n=a(80113),c=a(94847);function i(){const[e]=(0,s.h)(),t=(0,s.g)(),{user:a,setSubscription:i}=(0,n.b)(),{getSubscription:o}=(0,c.a)(),[m,u]=(0,r.useState)(!0),[d,f]=(0,r.useState)(null),E=e.get("session_id");return(0,r.useEffect)(()=>{(async()=>{if(E)try{u(!0);const e=await o();e&&(f(e),i(e.subscription))}catch(e){console.error("Failed to fetch subscription:",e)}finally{u(!1)}else t("/subscription")})()},[E,o,i,t]),m?r.createElement("div",{className:"flex justify-center items-center min-h-[400px]"},r.createElement(l.f,null)):r.createElement("div",{className:"max-w-2xl mx-auto px-4 py-8"},r.createElement("div",{className:"text-center"},r.createElement("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-6"},r.createElement("svg",{className:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))),r.createElement("h1",{className:"text-3xl font-bold text-gray-900 mb-4"},"🎉 구독이 완료되었습니다!"),r.createElement("p",{className:"text-lg text-gray-600 mb-8"},"TextPerfect 프리미엄을 이용해주셔서 감사합니다.",r.createElement("br",null),"이제 더욱 강력한 AI 글쓰기 도구를 경험해보세요!"),r.createElement(l.c,{className:"mb-8 text-left"},r.createElement("div",{className:"p-6"},r.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"구독 정보"),r.createElement("div",{className:"space-y-3"},r.createElement("div",{className:"flex justify-between"},r.createElement("span",{className:"text-gray-600"},"플랜"),r.createElement("span",{className:"font-medium text-blue-600"},"프리미엄")),r.createElement("div",{className:"flex justify-between"},r.createElement("span",{className:"text-gray-600"},"사용자"),r.createElement("span",{className:"font-medium"},null==a?void 0:a.email)),(null==d?void 0:d.subscription)&&r.createElement(r.Fragment,null,r.createElement("div",{className:"flex justify-between"},r.createElement("span",{className:"text-gray-600"},"시작일"),r.createElement("span",{className:"font-medium"},new Date(d.subscription.currentPeriodStart).toLocaleDateString("ko-KR"))),r.createElement("div",{className:"flex justify-between"},r.createElement("span",{className:"text-gray-600"},"다음 결제일"),r.createElement("span",{className:"font-medium"},new Date(d.subscription.currentPeriodEnd).toLocaleDateString("ko-KR"))))))),r.createElement(l.c,{className:"mb-8 text-left"},r.createElement("div",{className:"p-6"},r.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-4"},"이제 이용할 수 있는 혜택"),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"flex-shrink-0"},r.createElement("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"},r.createElement("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})))),r.createElement("div",{className:"ml-3"},r.createElement("p",{className:"text-sm font-medium text-gray-900"},"월 100개 문서"),r.createElement("p",{className:"text-sm text-gray-600"},"무제한에 가까운 분석"))),r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"flex-shrink-0"},r.createElement("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center"},r.createElement("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})))),r.createElement("div",{className:"ml-3"},r.createElement("p",{className:"text-sm font-medium text-gray-900"},"일일 10,000자"),r.createElement("p",{className:"text-sm text-gray-600"},"대용량 텍스트 처리"))),r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"flex-shrink-0"},r.createElement("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center"},r.createElement("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})))),r.createElement("div",{className:"ml-3"},r.createElement("p",{className:"text-sm font-medium text-gray-900"},"모든 템플릿"),r.createElement("p",{className:"text-sm text-gray-600"},"다양한 글쓰기 템플릿"))),r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"flex-shrink-0"},r.createElement("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center"},r.createElement("svg",{className:"w-4 h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 11-9.75 9.75A9.75 9.75 0 0112 2.25z"})))),r.createElement("div",{className:"ml-3"},r.createElement("p",{className:"text-sm font-medium text-gray-900"},"우선 지원"),r.createElement("p",{className:"text-sm text-gray-600"},"빠른 고객 서비스")))))),r.createElement("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"},r.createElement(l.b,{variant:"primary",size:"lg",onClick:()=>t("/editor")},"에디터에서 시작하기"),r.createElement(l.b,{variant:"secondary",size:"lg",onClick:()=>t("/dashboard")},"대시보드로 이동"),r.createElement(l.b,{variant:"outline",size:"lg",onClick:()=>t("/subscription")},"구독 관리")),r.createElement("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg"},r.createElement("p",{className:"text-sm text-blue-800"},"💡 ",r.createElement("strong",null,"팁:")," 프리미엄 기능을 최대한 활용하려면 에디터에서 긴 텍스트를 분석해보거나, 다양한 템플릿을 사용해보세요!"))))}},77831:(e,t,a)=>{a.d(t,{a:()=>n,b:()=>r,c:()=>s,d:()=>l}),a(22037);const r=async(e,t,a)=>{try{const r=await fetch("/.netlify/functions/stripe-create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({planType:e,userId:t,userEmail:a})}),s=await r.json();if(!s.success)throw new Error(s.error||"Failed to create checkout session");return s.data}catch(e){throw console.error("Create checkout session error:",e),e}},s=async e=>{try{const t=await fetch("/.netlify/functions/stripe-customer-portal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:e})}),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to create customer portal session");return a.data}catch(e){throw console.error("Create customer portal session error:",e),e}},l=async e=>{try{const t=await fetch("/.netlify/functions/stripe-get-subscription?userEmail=".concat(encodeURIComponent(e))),a=await t.json();if(!a.success)throw new Error(a.error||"Failed to get subscription status");return a.data}catch(e){throw console.error("Get subscription status error:",e),e}},n={PREMIUM_MONTHLY:{id:"PREMIUM_MONTHLY",name:"프리미엄 월간",price:9900,interval:"month",description:"월 9,900원으로 모든 프리미엄 기능 이용",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원"]},PREMIUM_YEARLY:{id:"PREMIUM_YEARLY",name:"프리미엄 연간",price:99e3,interval:"year",description:"연 99,000원 (2개월 무료)",savings:"19,800원 절약",features:["월 100개 문서","최대 10,000자","AI 고급 분석","모든 템플릿","AI 코치 과정","우선 지원","2개월 무료"]}}},94847:(e,t,a)=>{a.d(t,{a:()=>c});var r=a(96540),s=a(80113),l=a(77831),n=a(61409);const c=()=>{const{user:e,isAuthenticated:t}=(0,s.b)(),[a,c]=(0,r.useState)(!1),[i,o]=(0,r.useState)(null),m=async()=>{if(t&&null!=e&&e.email)try{c(!0);const t=await(0,l.d)(e.email);o(t)}catch(e){console.error("Failed to fetch subscription status:",e),n.b.error("���� ���¸� ��ȸ�ϴµ� �����߽��ϴ�.")}finally{c(!1)}};return(0,r.useEffect)(()=>{t&&null!=e&&e.email&&m()},[t,null==e?void 0:e.email]),{loading:a,subscriptionData:i,startCheckout:async a=>{if(t)if(null!=e&&e.id&&null!=e&&e.email)try{c(!0);const{url:t}=await(0,l.b)(a,e.id,e.email);window.location.href=t}catch(e){console.error("Checkout failed:",e),n.b.error("���� �������� �̵��ϴµ� �����߽��ϴ�."),c(!1)}else n.b.error("����� ������ �����ϴ�.");else n.b.error("�α����� �ʿ��մϴ�.")},openCustomerPortal:async()=>{if(t&&null!=e&&e.email)try{c(!0);const{url:t}=await(0,l.c)(e.email);window.location.href=t}catch(e){console.error("Customer portal failed:",e),n.b.error("���� ���� �������� �̵��ϴµ� �����߽��ϴ�."),c(!1)}else n.b.error("�α����� �ʿ��մϴ�.")},fetchSubscriptionStatus:m,isSubscribed:"PREMIUM"===(null==i?void 0:i.plan),subscriptionStatus:null==i?void 0:i.status}}}}]);